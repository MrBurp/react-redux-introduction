{"ast":null,"code":"import _classCallCheck from \"/Users/andreasziegler/Desktop/2019/react/react-redux-introduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andreasziegler/Desktop/2019/react/react-redux-introduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Storage =\n/*#__PURE__*/\nfunction () {\n  function Storage() {\n    _classCallCheck(this, Storage);\n\n    if (!this.canUseLocalStorage()) {\n      throw Error(\"The local storage is disabled or full!\");\n    }\n  }\n\n  _createClass(Storage, [{\n    key: \"set\",\n    value: function set(key, value) {\n      localStorage.setItem(key, value);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var value = localStorage.getItem(key);\n\n      if (value !== null) {\n        return value;\n      }\n\n      return defaultValue;\n    }\n  }, {\n    key: \"canUseLocalStorage\",\n    value: function canUseLocalStorage() {\n      var test = \"test\";\n\n      try {\n        localStorage.setItem(test, test);\n        localStorage.removeItem(test);\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    }\n  }]);\n\n  return Storage;\n}();\n\nexport default new Storage();","map":{"version":3,"sources":["/Users/andreasziegler/Desktop/2019/react/react-redux-introduction/src/modules/Storage.js"],"names":["Storage","canUseLocalStorage","Error","key","value","localStorage","setItem","defaultValue","getItem","test","removeItem","e"],"mappings":";;;IAAMA,O;;;AACJ,qBAAc;AAAA;;AACZ,QAAI,CAAC,KAAKC,kBAAL,EAAL,EAAgC;AAC9B,YAAMC,KAAK,CAAC,wCAAD,CAAX;AACD;AACF;;;;wBAEGC,G,EAAKC,K,EAAO;AACdC,MAAAA,YAAY,CAACC,OAAb,CAAqBH,GAArB,EAA0BC,KAA1B;AACD;;;wBAEGD,G,EAA0B;AAAA,UAArBI,YAAqB,uEAAN,IAAM;AAC5B,UAAMH,KAAK,GAAGC,YAAY,CAACG,OAAb,CAAqBL,GAArB,CAAd;;AAEA,UAAIC,KAAK,KAAK,IAAd,EAAoB;AAClB,eAAOA,KAAP;AACD;;AAED,aAAOG,YAAP;AACD;;;yCAEoB;AACnB,UAAIE,IAAI,GAAG,MAAX;;AAEA,UAAI;AACFJ,QAAAA,YAAY,CAACC,OAAb,CAAqBG,IAArB,EAA2BA,IAA3B;AACAJ,QAAAA,YAAY,CAACK,UAAb,CAAwBD,IAAxB;AACD,OAHD,CAGE,OAAOE,CAAP,EAAU;AACV,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD;;;;;;AAGH,eAAe,IAAIX,OAAJ,EAAf","sourcesContent":["class Storage {\n  constructor() {\n    if (!this.canUseLocalStorage()) {\n      throw Error(\"The local storage is disabled or full!\");\n    }\n  }\n\n  set(key, value) {\n    localStorage.setItem(key, value);\n  }\n\n  get(key, defaultValue = null) {\n    const value = localStorage.getItem(key);\n\n    if (value !== null) {\n      return value;\n    }\n\n    return defaultValue;\n  }\n\n  canUseLocalStorage() {\n    var test = \"test\";\n\n    try {\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      return false;\n    }\n\n    return true;\n  }\n}\n\nexport default new Storage();\n"]},"metadata":{},"sourceType":"module"}